function createWebSocket(o){var t="https:"===window.location.protocol?"wss:":"ws:";return new ReconnectingWebSocket(t+"//"+location.host+o,null,{reconnectDecay:1})}function reload(){isReload=!0;try{InstantClick.go(location.toString())}catch(o){isReload=!1}}var firstConnect=!0,ws=createWebSocket("/api/v1/events/ws");ws.onopen=function(){firstConnect||location.reload(),firstConnect=!1},ws.onmessage=function(o){var t=JSON.parse(o.data);console.log(t),t.type.startsWith("song-")&&(isListingPage()?reload():trimChar(location.pathname,"/")==="song/"+t.data.id&&reload())};