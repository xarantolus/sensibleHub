function trimChar(n,t){for(;n.charAt(0)==t;)n=n.substring(1);for(;n.charAt(n.length-1)==t;)n=n.substring(0,n.length-1);return n}function isListingPage(){return-1!==["/","/songs","/artists"].indexOf(location.pathname)}var isReload=!1,oldX=0,oldY=0;InstantClick.go=function(n){oldX=window.scrollX,oldY=window.scrollY;var t=document.createElement("a");t.href=n,document.body.appendChild(t),t.click()},InstantClick.on("change",function(){isReload&&(isReload=!1,window.scrollTo(oldX,oldY))});var ajax=function(n,t){var e=function(e,r){var o=new XMLHttpRequest;o.open(e,n,!0),o.setRequestHeader("X-XHR","true");var s=null;return"POST"===e&&t&&("entries"in t?s=t:(o.setRequestHeader("Content-Type","application/json"),s=JSON.stringify(t))),o.onreadystatechange=function(){if(4===o.readyState&&o.status>0){try{var n=JSON.parse(o.responseText)}catch(n){return void r(422,{message:o.responseText})}r(o.status,n)}},o.onerror=function(){r(503,{message:"Error while connecting."})},o.send(s),o};return{get:function(n){return e("GET",n)},post:function(n){return e("POST",n)}}};