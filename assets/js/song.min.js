function songPage(){function e(e){if(e.preventDefault(),!confirm("Are you sure you want to delete this song?"))return!1;var t=new FormData;return t.set("delete","delete"),ajax(location.pathname,t).post(function(e,t){200===e?(isReload=!0,InstantClick.go("/")):document.getElementById("song-notif").innerText=t.message||"Unknown error"}),!1}function t(e){if(e.preventDefault(),!confirm("Are you sure you want to delete the cover?"))return!1;var t=new FormData;return t.set("delete-cover","delete-cover"),ajax(location.pathname,t).post(function(e,t){200!==e&&(document.getElementById("song-notif").innerText=t.message||"Unknown error")}),!1}function n(e){localStorage.setItem("audio-volume",e.target.volume)}function o(e){d.classList.remove("is-loading")}function a(){d.classList.add("is-loading")}registerCover(),document.getElementById("delete-button").addEventListener("click",e);var r=document.getElementById("delete-cover");r&&r.addEventListener("click",t);var l=document.getElementsByTagName("audio")[0];l.load(),l.volume=localStorage.getItem("audio-volume")||0,0==l.volume&&(l.volume=.5),l.addEventListener("volumechange",n);var d=document.getElementById("download-song-button");d.addEventListener("click",a),d.addEventListener("blur",o)}