function songPage(){function e(e){var t=e.target.files;if(!(t.length<1)){document.getElementById("cover-upload-button").innerHTML=t[0].name;var n=document.getElementById("song-cover");n.src=window.URL.createObjectURL(t[0])}}function t(){document.querySelector(".file-input").click()}function n(e){if(e.preventDefault(),!confirm("Are you sure you want to delete this song?"))return!1;var t=new FormData;return t.set("delete","delete"),ajax(location.pathname,t).post(function(e,t){200===e?(isReload=!0,InstantClick.go("/")):document.getElementById("song-notif").innerText=t.message||"Unknown error"}),!1}function o(e){localStorage.setItem("audio-volume",e.target.volume)}function a(e){c.classList.remove("is-loading")}function d(){c.classList.add("is-loading")}document.getElementById("song-cover-input").addEventListener("change",e),document.querySelector(".song-image-container").addEventListener("click",t),document.getElementById("delete-button").addEventListener("click",n);var i=document.getElementsByTagName("audio")[0];i.load(),i.volume=localStorage.getItem("audio-volume")||1,0==i.volume&&(i.volume=.5),i.addEventListener("volumechange",o);var c=document.getElementById("download-song-button");c.addEventListener("click",d),c.addEventListener("blur",a)}