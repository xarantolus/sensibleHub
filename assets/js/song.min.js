function songPage(){function e(e){if(e.preventDefault(),!confirm("Are you sure you want to delete this song?"))return!1;var t=new FormData;return t.set("delete","delete"),ajax(location.pathname,t).post(function(e,t){200===e?(isReload=!0,InstantClick.go("/")):document.getElementById("song-notif").innerText=t.message||"Unknown error"}),!1}function t(e){if(e.preventDefault(),!confirm("Are you sure you want to delete the cover?"))return!1;var t=new FormData;return t.set("delete-cover","delete-cover"),ajax(location.pathname,t).post(function(e,t){200!==e&&(document.getElementById("song-notif").innerText=t.message||"Unknown error")}),!1}function n(e){localStorage.setItem("audio-volume",e.target.volume)}function o(e){l.classList.remove("is-loading")}function a(){l.classList.add("is-loading")}registerCover(),document.getElementById("delete-button").addEventListener("click",e),document.getElementById("delete-cover").addEventListener("click",t);var r=document.getElementsByTagName("audio")[0];r.load(),r.volume=localStorage.getItem("audio-volume")||0,0==r.volume&&(r.volume=.5),r.addEventListener("volumechange",n);var l=document.getElementById("download-song-button");l.addEventListener("click",a),l.addEventListener("blur",o)}