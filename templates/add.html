{{ template "head.html" . }}
<form class="form-horizontal add-form" method="POST" action="/add">
    <fieldset>
        <div id="add-notif" class="notification is-danger notif"></div>
        
        <div class="field">
            <label class="label" for="searchTerm">Search</label>
            <div class="control">
                <input autofocus="" id="searchTerm" name="searchTerm" type="searchTerm" placeholder="Link to song or search query" class="input" required="">
                <p class="help">Can be any website <a tabindex="-1" href="https://ytdl-org.github.io/youtube-dl/supportedsites.html" rel="noopener noreferrer">supported by youtube-dl</a>. Downloads only the first song in a playlist. If you enter a search term, it will be looked up on YouTube Music.</p>
            </div>
        </div>

        <div class="field">
            <div class="control">
                <button class="button is-primary" type="submit" id="submit-button" name="submit-button">Download</button>
            </div>
        </div>
        {{with .LastError}}

        <div class="field">
            <div class="control">
                <h4 class="title is-6">Last download error</h4>
                <pre>{{.Error}}</pre>
            </div>
        </div>{{end}}

    </fieldset>
</form>
{{if .Running}}
<form class="form-horizontal abort-form" method="POST" action="/abort">
    <fieldset>
        <h4 class="title is-6">Current download</h4>
        <pre>{{.DownloadURL}}</pre>
        <div class="field">
            <div class="control">
                <button class="button is-danger" type="submit" id="abort-button" name="abort-button">Abort download</button>
            </div>
        </div>
    </fieldset>
</form>
{{end}}
{{with .NewestSong}}
<div class="listing">
    <h4 class="title is-4 no-bottom">Newest Song</h4>

    {{ template "song-item.html" . }}
</div>{{end}}
{{ template "foot.html" . }}
